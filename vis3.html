<!DOCTYPE html>
<html>
<head>
  <style>
    .error {
        color: red;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-lite@4.17.0"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "vconcat": [{"layer": [{"mark": "line", "encoding": {"color": {"field": "Offense", "type": "nominal"}, "x": {"field": "Year", "type": "ordinal"}, "y": {"axis": {"title": "Number of calls"}, "field": "Count", "type": "quantitative"}}, "title": "Number of calls made to Boston Police in Roxbury by offense, 2015-2021", "transform": [{"filter": {"selection": "selector003"}}], "width": 400}, {"mark": "point", "encoding": {"color": {"field": "Offense", "legend": {"direction": "vertical", "orient": "left", "titleAnchor": "middle"}, "type": "nominal"}, "x": {"field": "Year", "type": "ordinal"}, "y": {"field": "Count", "type": "quantitative"}}, "selection": {"selector003": {"type": "interval", "encodings": ["x"]}}, "width": 400}]}, {"mark": "bar", "encoding": {"color": {"field": "Offense", "type": "nominal"}, "column": {"field": "Offense", "type": "nominal"}, "tooltip": [{"field": "Year", "type": "quantitative"}, {"field": "Year-to-year percentage change", "type": "quantitative"}], "x": {"field": "Year", "type": "ordinal"}, "y": {"axis": {"title": "Year-to-year percentage change (%)"}, "field": "Year-to-year percentage change", "scale": {"domain": [-100, 500]}, "type": "quantitative"}}, "title": "Percentage change in offense type year-to-year", "transform": [{"filter": {"selection": "selector003"}}], "width": 68}], "data": {"name": "data-8dfdaa08c30b673b38d83a0fb628b9de"}, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-8dfdaa08c30b673b38d83a0fb628b9de": [{"Offense": "Aggravated Assault", "Year": 2015.0, "Count": 333.0, "Year-to-year percentage change": 0.0}, {"Offense": "Aggravated Assault", "Year": 2016.0, "Count": 520.0, "Year-to-year percentage change": 56.15615615615616}, {"Offense": "Aggravated Assault", "Year": 2017.0, "Count": 505.0, "Year-to-year percentage change": -2.8846153846153846}, {"Offense": "Aggravated Assault", "Year": 2018.0, "Count": 531.0, "Year-to-year percentage change": 5.148514851485149}, {"Offense": "Aggravated Assault", "Year": 2019.0, "Count": 417.0, "Year-to-year percentage change": -21.468926553672315}, {"Offense": "Aggravated Assault", "Year": 2020.0, "Count": 373.0, "Year-to-year percentage change": -10.551558752997602}, {"Offense": "Aggravated Assault", "Year": 2021.0, "Count": 287.0, "Year-to-year percentage change": -23.056300268096514}, {"Offense": "Auto Theft", "Year": 2015.0, "Count": 142.0, "Year-to-year percentage change": 0.0}, {"Offense": "Auto Theft", "Year": 2016.0, "Count": 285.0, "Year-to-year percentage change": 100.70422535211267}, {"Offense": "Auto Theft", "Year": 2017.0, "Count": 272.0, "Year-to-year percentage change": -4.56140350877193}, {"Offense": "Auto Theft", "Year": 2018.0, "Count": 237.0, "Year-to-year percentage change": -12.867647058823529}, {"Offense": "Auto Theft", "Year": 2019.0, "Count": 147.0, "Year-to-year percentage change": -37.9746835443038}, {"Offense": "Auto Theft", "Year": 2020.0, "Count": 254.0, "Year-to-year percentage change": 72.78911564625851}, {"Offense": "Auto Theft", "Year": 2021.0, "Count": 220.0, "Year-to-year percentage change": -13.385826771653543}, {"Offense": "Harassment", "Year": 2015.0, "Count": 55.0, "Year-to-year percentage change": 0.0}, {"Offense": "Harassment", "Year": 2016.0, "Count": 250.0, "Year-to-year percentage change": 354.54545454545456}, {"Offense": "Harassment", "Year": 2017.0, "Count": 255.0, "Year-to-year percentage change": 2.0}, {"Offense": "Harassment", "Year": 2018.0, "Count": 244.0, "Year-to-year percentage change": -4.313725490196078}, {"Offense": "Harassment", "Year": 2019.0, "Count": 256.0, "Year-to-year percentage change": 4.918032786885246}, {"Offense": "Harassment", "Year": 2020.0, "Count": 189.0, "Year-to-year percentage change": -26.171875}, {"Offense": "Harassment", "Year": 2021.0, "Count": 153.0, "Year-to-year percentage change": -19.047619047619047}, {"Offense": "Homicide", "Year": 2015.0, "Count": 13.0, "Year-to-year percentage change": 0.0}, {"Offense": "Homicide", "Year": 2016.0, "Count": 19.0, "Year-to-year percentage change": 46.15384615384615}, {"Offense": "Homicide", "Year": 2017.0, "Count": 19.0, "Year-to-year percentage change": 0.0}, {"Offense": "Homicide", "Year": 2018.0, "Count": 18.0, "Year-to-year percentage change": -5.2631578947368425}, {"Offense": "Homicide", "Year": 2019.0, "Count": 5.0, "Year-to-year percentage change": -72.22222222222223}, {"Offense": "Homicide", "Year": 2020.0, "Count": 13.0, "Year-to-year percentage change": 160.0}, {"Offense": "Homicide", "Year": 2021.0, "Count": 7.0, "Year-to-year percentage change": -46.15384615384615}, {"Offense": "Larceny", "Year": 2015.0, "Count": 921.0, "Year-to-year percentage change": 0.0}, {"Offense": "Larceny", "Year": 2016.0, "Count": 1286.0, "Year-to-year percentage change": 39.63083604777416}, {"Offense": "Larceny", "Year": 2017.0, "Count": 838.0, "Year-to-year percentage change": -34.83670295489891}, {"Offense": "Larceny", "Year": 2018.0, "Count": 1292.0, "Year-to-year percentage change": 54.17661097852029}, {"Offense": "Larceny", "Year": 2019.0, "Count": 1007.0, "Year-to-year percentage change": -22.058823529411764}, {"Offense": "Larceny", "Year": 2020.0, "Count": 966.0, "Year-to-year percentage change": -4.07149950347567}, {"Offense": "Larceny", "Year": 2021.0, "Count": 853.0, "Year-to-year percentage change": -11.697722567287785}, {"Offense": "Missing Person", "Year": 2015.0, "Count": 125.0, "Year-to-year percentage change": 0.0}, {"Offense": "Missing Person", "Year": 2016.0, "Count": 220.0, "Year-to-year percentage change": 76.0}, {"Offense": "Missing Person", "Year": 2017.0, "Count": 176.0, "Year-to-year percentage change": -20.0}, {"Offense": "Missing Person", "Year": 2018.0, "Count": 178.0, "Year-to-year percentage change": 1.1363636363636365}, {"Offense": "Missing Person", "Year": 2019.0, "Count": 59.0, "Year-to-year percentage change": -66.85393258426966}, {"Offense": "Missing Person", "Year": 2020.0, "Count": 348.0, "Year-to-year percentage change": 489.8305084745763}, {"Offense": "Missing Person", "Year": 2021.0, "Count": 223.0, "Year-to-year percentage change": -35.91954022988506}, {"Offense": "Property Lost", "Year": 2015.0, "Count": 170.0, "Year-to-year percentage change": 0.0}, {"Offense": "Property Lost", "Year": 2016.0, "Count": 350.0, "Year-to-year percentage change": 105.88235294117646}, {"Offense": "Property Lost", "Year": 2017.0, "Count": 319.0, "Year-to-year percentage change": -8.857142857142858}, {"Offense": "Property Lost", "Year": 2018.0, "Count": 457.0, "Year-to-year percentage change": 43.260188087774296}, {"Offense": "Property Lost", "Year": 2019.0, "Count": 304.0, "Year-to-year percentage change": -33.479212253829324}, {"Offense": "Property Lost", "Year": 2020.0, "Count": 284.0, "Year-to-year percentage change": -6.578947368421052}, {"Offense": "Property Lost", "Year": 2021.0, "Count": 225.0, "Year-to-year percentage change": -20.774647887323944}, {"Offense": "Residential Burglary", "Year": 2015.0, "Count": 27.0, "Year-to-year percentage change": 0.0}, {"Offense": "Residential Burglary", "Year": 2016.0, "Count": 27.0, "Year-to-year percentage change": 0.0}, {"Offense": "Residential Burglary", "Year": 2017.0, "Count": 24.0, "Year-to-year percentage change": -11.11111111111111}, {"Offense": "Residential Burglary", "Year": 2018.0, "Count": 34.0, "Year-to-year percentage change": 41.666666666666664}, {"Offense": "Residential Burglary", "Year": 2019.0, "Count": 89.0, "Year-to-year percentage change": 161.76470588235293}, {"Offense": "Residential Burglary", "Year": 2020.0, "Count": 127.0, "Year-to-year percentage change": 42.69662921348315}, {"Offense": "Residential Burglary", "Year": 2021.0, "Count": 103.0, "Year-to-year percentage change": -18.89763779527559}, {"Offense": "Robbery", "Year": 2015.0, "Count": 122.0, "Year-to-year percentage change": 0.0}, {"Offense": "Robbery", "Year": 2016.0, "Count": 323.0, "Year-to-year percentage change": 164.75409836065575}, {"Offense": "Robbery", "Year": 2017.0, "Count": 246.0, "Year-to-year percentage change": -23.8390092879257}, {"Offense": "Robbery", "Year": 2018.0, "Count": 185.0, "Year-to-year percentage change": -24.796747967479675}, {"Offense": "Robbery", "Year": 2019.0, "Count": 128.0, "Year-to-year percentage change": -30.81081081081081}, {"Offense": "Robbery", "Year": 2020.0, "Count": 127.0, "Year-to-year percentage change": -0.78125}, {"Offense": "Robbery", "Year": 2021.0, "Count": 76.0, "Year-to-year percentage change": -40.15748031496063}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div class="error" style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis3');
      vegaEmbed("#vis3", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>